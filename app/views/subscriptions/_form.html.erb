<%= form_with model: [@event, subscription], data: { turbo: false } do |f| %>
    <%= render partial: 'partials/form_errors', locals: {model: subscription} %>

    <% if current_user_can_edit?(subscription) %>
      <% elsif user_signed_in? %>
      <h4> <%= t("subscribers.i_will_go") %> </h4>
        <div class="actions">
          <%= f.submit t("subscribers.subscribe"), class: 'btn btn-primary buffer-top' %>
        </div>
      <% else %>
        <h4> <%= t("subscribers.i_will_go") %> </h4>
        <div class="form-group buffer-both">
          <%= f.label :user_name %>
          <%= f.text_field :user_name, class: 'form-control' %>
        </div>

        <div class="form-group">
          <%= f.label :user_email %>
          <%= f.text_field :user_email, class: 'form-control' %>
        </div>

        <div class="actions">
          <%= f.submit t("subscribers.subscribe"), class: 'btn btn-primary buffer-top' %>
        </div>
    <% end %>
<% end %>
